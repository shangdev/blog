---
title: Oracle VM ViryualBox虚拟机的奇幻之旅
date: 2017-03-13 22:02:48
tags: "Linux"
categories: "运维相关"
---
# 准备
_1. VirtualBox版本（最新）_  
_2. Windows需要开启虚拟化，具体如何开启请自行谷歌，每个系列电脑的方式都不一样_  
_3. 下载你想要的centos版本，建议使用[网易开源镜像站](http://mirrors.163.com)_
# 经历
近几天使用VirtualBox搭建了一个本地的CentOS6.8虚拟机，由于每次动态获取ip太费事，所以考虑给虚拟机设置一个静态ip，二话不说，立马开干，谁曾想掉进了坑里...
# 过程
按照网上的各种VirtualBox设置静态ip的教程均以失败告终，现放出如下貌似正确的虚拟机系统配置（谁TM知道虚拟机又抽啥风了就不行了呢...），主要有如下二项设置：  
## 针对特定的网卡进行设置

<!-- more -->

位置：
```
/etc/sysconfig/network-scripts/ifcfg-eth0
```
参数：
```
DEVICE=eth0
TYPE=Ethernet
UUID=9afebf1e-2780-4bb7-a4e2-f4197954a93a
ONBOOT=yes
NM_CONTROLLED=yes
BOOTPROTO=none
HWADDR=08:00:27:ED:43:F5
IPADDR=192.168.31.138
PREFIX=7
GATEWAY=192.168.31.1
DNS1=192.168.31.1
DEFROUTE=yes
IPV4_FAILURE_FATAL=yes
IPV6INIT=no
NAME="System eth0"

说明：IPADDR的值就是你想设置的静态IP地址，192.168.*.*中第一个*和你本地的ip区段是一致的，第二个*的数值尽量大一点，140-190之间（可能有误，毕竟咱不是专业的哈）。  
GATEWAY、DNS1的值和你本地的默认网关地址一致，至于如何获取win下ipconfig，linux下ifconfig进行查看。
```
## 设置DNS
位置：
```
/etc/resolv.conf
```
参数：
```
# Generated by NetworkManager
nameserver 192.168.31.1

# 说明：nameserver 的值和本地的默认网关保持一致，同GATEWAY、DNS1的值
```
_3. 设置桥接网络类型_
VirtualBox中设置连接的网络类型必须是桥接网络。  
_4. 重要的关于windows的设置_  
注意你要打开本地的更改适配器设置，右键-属性-共享勾上，选择你要共享的安装好的虚拟机。

# 后续
_1. 如果你使用git管理代码库，请往下看（基于CentOS）_  
创建SSH Key以连接github  
- 首先以root身份登录服务器  
- 终端输入,检查该目录下是否存在id_rsa.pub或者id_dsa.pub存在，如果存在请直接跳至第4步 
```  
# ls 列出目录，也可以ll
# -al 列出隐藏目录
ls -al ~/.ssh
```
- 输入以下命令，一直按回车，直到提示已生成 ** id_rsa**和**id_rsa.pub**文件（示例邮箱需替换）
```
ssh-keygen -t rsa -C "your_email@example.com"
```
- 使用以下命令获取**id_rsa.pub**文件的内容  
```
vi ~/.ssh/id_rsa.pub
```
- 将获取到的key加入到GitHub里的SSH公钥，这样你就不用每次都在操作git仓库时输入账户和密码了，天高任你飞，海阔凭鱼跃了。  
- 配置git**全局**用户名和密码
```
git config --global user.name 你的用户名
git config --global user.email 你的邮箱
# 查看git配置信息
git config --global --list
```
- 设置默认全局git remote地址
```
git config --global branch.master.remote origin
git config --global branch.master.merge refs/heads/master 
```
- [其他网友教程](http://www.linuxidc.com/Linux/2014-10/108080.htm)  

2.如果你想在CentOS中安装Node.Js，请接着往下看  
- 声明，方法有很多，但我推荐使用NVM（Node version manager）来安装，不要问我为什么，我是不会说的。  
- 下载并安装NVM脚本  
```
curl https://raw.githubusercontent.com/creationix/nvm/v0.13.1/install.sh | bash
source ~/.bash_profile
```
- 列出所需要的版本  
```
nvm list-remote
```
- 安装上步中出现的版本  
```
nvm install v6.7.5
```
- 查看已安装的版本  
```
nvm list
```
- 设置默认版本  
```
nvm alias default v6.7.5
```
- 使用命令查看系统Node版本  
```
node -v
```
- 给出所有的方法：[在CentOS 7上安装Node.js的4种方法](https://www.vmvps.com/4-ways-to-install-node-js-on-centos-7-servers.html)

# 结束语
至此完毕，本地xshell(推荐)连接虚拟机服务器，ping baidu.com看看是不是已经可以Ping通了呢，骚年。

_本次奇幻之旅由PHP-贵州-码农（群号：466388300）全程指导，特此鸣谢！！！_